{"version":3,"file":"Utility.js","sourceRoot":"","sources":["../../src/Utility.ts"],"names":[],"mappings":";;AAAA,mCAAkC;AAClC,yDAAsD;AACtD,6CAA0C;AAE1C,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AAEzC,MAAa,OAAO;IAEhB;IAEA,CAAC;IAEM,cAAc;QAEjB,IAAI;YACA,IAAI,GAAG,GAAG,OAAO,EAAE,CAAA;YACnB,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAA;YAE1B,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;gBACvB,GAAG,CAAC,SAAS,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAA;gBACjD,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,oBAAoB,CAAC,CAAA;gBAChE,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAA;gBAC/C,GAAG,CAAC,MAAM,CAAC,kCAAkC,EAAE,IAAI,CAAC,CAAA;gBAEpD,IAAI,GAAG,CAAC,MAAM,KAAK,SAAS,EAAE;oBAC1B,GAAG,CAAC,GAAG,EAAE,CAAA;oBACT,OAAM;iBACT;gBACD,IAAI,EAAE,CAAC;YACX,CAAC,CAAC,CAAA;YAEF,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpC,IAAI,uBAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE,CAAA;YAC1C,CAAC,CAAC,CAAA;YAEF,GAAG,CAAC,MAAM,CAAC,2BAAY,CAAC,eAAe,CAAC,CAAA;SAC3C;QACD,OAAO,EAAE,EAAE;YACP,OAAO,CAAC,KAAK,CAAC,2CAA2C,EAAE,EAAE,CAAC,CAAA;YAC9D,MAAM,EAAE,CAAA;SACX;IACL,CAAC;CACJ;AApCD,0BAoCC","sourcesContent":["import * as express from 'express'\r\nimport { ServerConsts } from '../consts/ServerConsts';\r\nimport { NmServices } from './NmServices';\r\n\r\nconst bodyParser = require('body-parser')\r\n\r\nexport class Utility {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public runApplication() {\r\n\r\n        try {\r\n            let app = express()\r\n            app.use(bodyParser.json())\r\n\r\n            app.use((req, res, next) => {\r\n                res.setHeader('Access-Control-Allow-Origin', \"*\")\r\n                res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS')\r\n                res.header('Access-Control-Allow-Headers', \"*\")\r\n                res.header('Access-Control-Allow-Credentials', true)\r\n\r\n                if (req.method === 'OPTIONS') {\r\n                    res.end()\r\n                    return\r\n                }\r\n                next();\r\n            })\r\n\r\n            app.post('/get_nm_fields', (req, res) => {\r\n                new NmServices(req, res).getNmFields()\r\n            })\r\n\r\n            app.listen(ServerConsts.LISTENNING_PORT)\r\n        }\r\n        catch (ex) {\r\n            console.error(\"Exception in Utility.runApplication, ex: \", ex)\r\n            throw ex\r\n        }\r\n    }\r\n}"]}